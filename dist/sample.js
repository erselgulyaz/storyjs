(()=>{var e={150:e=>{function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=function(){function e(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.output="",this.interval=null,this.activeId=null,this.innerEl="storyjs__inner",this.scrollerEl="storyjs__scroller",this.storyItemEl="storyjs__item",this.modalEl="storyjs__modal",this.modalBandEl="storyjs__modal-band",this.modalContentEl="storyjs__modal-content",this.modalCloserEl="storyjs__modal-closer",this.modalArrowEl="storyjs__modal-arrow",this.modalArrowPrevEl="storyjs__modal-arrow__prev",this.modalArrowNextEl="storyjs__modal-arrow__next",this.modalLineEl="storyjs__modal-line",this.modalLineInnerEl="storyjs__modal-line__inner",this.modalBoxEl="storyjs__modal-box",this.modalBoxInnerEl="storyjs__modal-box__inner";var n={items:null,selector:"#storyjs-selector"},l=Object.assign(n,o);for(var a in l)l.hasOwnProperty(a)&&(this[a]=l[a]);this.init()}var n,l;return n=e,(l=[{key:"init",value:function(){var e=document.createElement("div");e.classList.add(this.innerEl),document.querySelector(this.selector).appendChild(e);var t=document.createElement("div");t.classList.add(this.scrollerEl),document.querySelector(".".concat(this.innerEl)).appendChild(t),this.renderItems(),this.renderModalBase()}},{key:"renderItems",value:function(){var e=this;null!==this.items&&this.items.length>0&&(this.items.map((function(t){e.output+='\n          <div class="'.concat(e.storyItemEl,'" data-item-id="').concat(t.id,'" data-item-modal="').concat(t.modalPic,'" data-item-time=').concat(t.time,'>\n              <img\n                  class="storyjs__user-photo"\n                  src="').concat(t.profilePic,'"\n                  alt="').concat(t.title,'"\n              />\n          </div>\n        ')})),document.querySelector(".".concat(this.scrollerEl)).innerHTML=this.output,this.handleStoryItem())}},{key:"renderModalBase",value:function(){var e=document.createElement("div");e.classList.add(this.modalEl),document.body.appendChild(e);var t=document.createElement("div");t.classList.add(this.modalBandEl),document.querySelector(".".concat(this.modalEl)).appendChild(t);var o=document.createElement("div");o.classList.add(this.modalContentEl),document.querySelector(".".concat(this.modalEl)).appendChild(o);var n=document.createElement("div");n.classList.add(this.modalCloserEl),document.querySelector(".".concat(this.modalContentEl)).appendChild(n);var l=document.createElement("div");l.classList.add(this.modalArrowEl,this.modalArrowPrevEl),document.querySelector(".".concat(this.modalContentEl)).appendChild(l);var a=document.createElement("div");a.classList.add(this.modalArrowEl,this.modalArrowNextEl),document.querySelector(".".concat(this.modalContentEl)).appendChild(a);var r=document.createElement("div");r.classList.add(this.modalLineEl),document.querySelector(".".concat(this.modalContentEl)).appendChild(r);var s=document.createElement("div");s.classList.add(this.modalLineInnerEl),document.querySelector(".".concat(this.modalLineEl)).appendChild(s);var i=document.createElement("div");i.classList.add(this.modalBoxEl),document.querySelector(".".concat(this.modalContentEl)).appendChild(i);var c=document.createElement("div");c.classList.add(this.modalBoxInnerEl),document.querySelector(".".concat(this.modalBoxEl)).appendChild(c),this.handleModalClose(),this.handleModalArrow(),this.handleBandClose()}},{key:"handleStoryItem",value:function(){var e=this;document.querySelector(this.selector).querySelectorAll(".".concat(this.storyItemEl)).forEach((function(t){t.addEventListener("click",(function(){e.setModalMedia(t.dataset.itemModal),document.body.classList.add("storyjs__modal__opened"),e.party(t.dataset.itemTime,t.dataset.itemId)}))}))}},{key:"party",value:function(e,t){var o=this;this.activeId=t,this.setLineStyles(e),this.interval=setInterval((function(){var e=o.getFilteredItem(1);if(e.length>0&&document.body.classList.contains("storyjs__modal__opened"))return new Promise((function(e){document.querySelector(".storyjs__modal-line__inner").style="",setTimeout(e,100)})).then((function(){o.setModalMedia(e[0].modalPic),clearInterval(o.interval),o.party(e[0].time,e[0].id)}));o.closeActions()}),"".concat(e,"000"))}},{key:"handleModalArrow",value:function(){var e=this;document.querySelector(".".concat(this.modalEl)).querySelectorAll(".".concat(this.modalArrowEl)).forEach((function(t){t.addEventListener("click",(function(){clearInterval(e.interval);var o=t.classList.contains(e.modalArrowNextEl);return new Promise((function(e){document.querySelector(".storyjs__modal-line__inner").style="",setTimeout(e,100)})).then((function(){var t=o?1:-1,n=e.getFilteredItem(t);n.length>0?(e.setLineStyles(n[0].time),e.setModalMedia(n[0].modalPic),e.party(n[0].time,n[0].id)):e.closeActions()}))}))}))}},{key:"setModalMedia",value:function(e){document.querySelector(".".concat(this.modalBoxInnerEl)).style.background="url(".concat(e,") no-repeat center center"),document.querySelector(".".concat(this.modalBoxInnerEl)).style.backgroundSize="cover"}},{key:"setLineStyles",value:function(e){document.querySelector(".".concat(this.modalLineInnerEl)).style.transition="all ".concat(e,"s ease-in"),document.querySelector(".".concat(this.modalLineInnerEl)).style.width="100%"}},{key:"getFilteredItem",value:function(e){var t=this;return this.items.filter((function(o){return o.id===parseInt(t.activeId)+e}))}},{key:"handleModalClose",value:function(){var e=this;document.querySelector(".".concat(this.modalCloserEl)).addEventListener("click",(function(){e.closeActions()}))}},{key:"handleBandClose",value:function(){var e=this;document.querySelector(".".concat(this.modalBandEl)).addEventListener("click",(function(){e.closeActions()}))}},{key:"closeActions",value:function(){document.body.classList.remove("storyjs__modal__opened"),document.querySelector(".".concat(this.modalBoxInnerEl)).style="",document.querySelector(".".concat(this.modalLineInnerEl)).removeAttribute("style"),clearInterval(this.interval)}}])&&o(n.prototype,l),e}();e.exports=n}},t={};function o(n){if(t[n])return t[n].exports;var l=t[n]={exports:{}};return e[n](l,l.exports,o),l.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=o(150),t=o.n(e);const n=[{id:1,profilePic:"http://projects.erselgulyaz.com/storyjs/horse.png",modalPic:"http://projects.erselgulyaz.com/storyjs/horse.png",title:"Sample Item",time:10},{id:2,profilePic:"http://projects.erselgulyaz.com/storyjs/panda.png",modalPic:"http://projects.erselgulyaz.com/storyjs/panda.png",title:"Sample Item",time:3},{id:3,profilePic:"http://projects.erselgulyaz.com/storyjs/penguen.png",modalPic:"http://projects.erselgulyaz.com/storyjs/penguen.png",title:"Sample Item",time:7}];window.addEventListener("load",(function(){new(t())({items:n})}))})()})();