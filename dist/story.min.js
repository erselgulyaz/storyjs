(()=>{var n={150:e=>{function l(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var t=function(){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(e){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),this.output="",this.interval=null,this.activeId=null,this.innerEl="storyjs__inner",this.scrollerEl="storyjs__scroller",this.storyItemEl="storyjs__item",this.modalEl="storyjs__modal",this.modalBandEl="storyjs__modal-band",this.modalContentEl="storyjs__modal-content",this.modalCloserEl="storyjs__modal-closer",this.modalArrowEl="storyjs__modal-arrow",this.modalArrowPrevEl="storyjs__modal-arrow__prev",this.modalArrowNextEl="storyjs__modal-arrow__next",this.modalLineEl="storyjs__modal-line",this.modalLineInnerEl="storyjs__modal-line__inner",this.modalBoxEl="storyjs__modal-box",this.modalBoxInnerEl="storyjs__modal-box__inner";var t,o=Object.assign({items:null,selector:"#storyjs-selector"},e);for(t in o)o.hasOwnProperty(t)&&(this[t]=o[t]);document.querySelector(this.selector)&&this.init()}var e,t,o;return e=n,(t=[{key:"init",value:function(){var e=document.createElement("div");e.classList.add(this.innerEl),document.querySelector(this.selector).appendChild(e);e=document.createElement("div");e.classList.add(this.scrollerEl),document.querySelector(".".concat(this.innerEl)).appendChild(e),this.renderItems(),this.renderModalBase()}},{key:"renderItems",value:function(){var t=this;null!==this.items&&0<this.items.length&&(this.items.map(function(e){t.output+='\n          <div class="'.concat(t.storyItemEl,'" data-item-id="').concat(e.id,'" data-item-modal="').concat(e.modalPic,'" data-item-time=').concat(e.time,'>\n              <img\n                  class="storyjs__user-photo"\n                  src="').concat(e.profilePic,'"\n                  alt="').concat(e.title,'"\n              />\n          </div>\n        ')}),document.querySelector(".".concat(this.scrollerEl)).innerHTML=this.output,this.handleStoryItem())}},{key:"renderModalBase",value:function(){var e=document.createElement("div");e.classList.add(this.modalEl),document.body.appendChild(e);e=document.createElement("div");e.classList.add(this.modalBandEl),document.querySelector(".".concat(this.modalEl)).appendChild(e);e=document.createElement("div");e.classList.add(this.modalContentEl),document.querySelector(".".concat(this.modalEl)).appendChild(e);e=document.createElement("div");e.classList.add(this.modalCloserEl),document.querySelector(".".concat(this.modalContentEl)).appendChild(e);e=document.createElement("div");e.classList.add(this.modalArrowEl,this.modalArrowPrevEl),document.querySelector(".".concat(this.modalContentEl)).appendChild(e);e=document.createElement("div");e.classList.add(this.modalArrowEl,this.modalArrowNextEl),document.querySelector(".".concat(this.modalContentEl)).appendChild(e);e=document.createElement("div");e.classList.add(this.modalLineEl),document.querySelector(".".concat(this.modalContentEl)).appendChild(e);e=document.createElement("div");e.classList.add(this.modalLineInnerEl),document.querySelector(".".concat(this.modalLineEl)).appendChild(e);e=document.createElement("div");e.classList.add(this.modalBoxEl),document.querySelector(".".concat(this.modalContentEl)).appendChild(e);e=document.createElement("div");e.classList.add(this.modalBoxInnerEl),document.querySelector(".".concat(this.modalBoxEl)).appendChild(e),this.handleModalClose(),this.handleModalArrow(),this.handleBandClose()}},{key:"handleStoryItem",value:function(){var t=this;document.querySelector(this.selector).querySelectorAll(".".concat(this.storyItemEl)).forEach(function(e){e.addEventListener("click",function(){t.setModalMedia(e.dataset.itemModal),document.body.classList.add("storyjs__modal__opened"),t.party(e.dataset.itemTime,e.dataset.itemId)})})}},{key:"party",value:function(e,t){var o=this;this.activeId=t,this.setLineStyles(e),this.interval=setInterval(function(){var e=o.getFilteredItem(1);if(0<e.length&&document.body.classList.contains("storyjs__modal__opened"))return new Promise(function(e){document.querySelector(".storyjs__modal-line__inner").style="",setTimeout(e,100)}).then(function(){o.setModalMedia(e[0].modalPic),clearInterval(o.interval),o.party(e[0].time,e[0].id)});o.closeActions()},"".concat(e,"000"))}},{key:"handleModalArrow",value:function(){var o=this;document.querySelector(".".concat(this.modalEl)).querySelectorAll(".".concat(this.modalArrowEl)).forEach(function(e){e.addEventListener("click",function(){clearInterval(o.interval);var t=e.classList.contains(o.modalArrowNextEl);return new Promise(function(e){document.querySelector(".storyjs__modal-line__inner").style="",setTimeout(e,100)}).then(function(){var e=t?1:-1,e=o.getFilteredItem(e);0<e.length?(o.setLineStyles(e[0].time),o.setModalMedia(e[0].modalPic),o.party(e[0].time,e[0].id)):o.closeActions()})})})}},{key:"setModalMedia",value:function(e){document.querySelector(".".concat(this.modalBoxInnerEl)).style.background="url(".concat(e,") no-repeat center center"),document.querySelector(".".concat(this.modalBoxInnerEl)).style.backgroundSize="cover"}},{key:"setLineStyles",value:function(e){document.querySelector(".".concat(this.modalLineInnerEl)).style.transition="all ".concat(e,"s ease-in"),document.querySelector(".".concat(this.modalLineInnerEl)).style.width="100%"}},{key:"getFilteredItem",value:function(t){var o=this;return this.items.filter(function(e){return e.id===parseInt(o.activeId)+t})}},{key:"handleModalClose",value:function(){var e=this;document.querySelector(".".concat(this.modalCloserEl)).addEventListener("click",function(){e.closeActions()})}},{key:"handleBandClose",value:function(){var e=this;document.querySelector(".".concat(this.modalBandEl)).addEventListener("click",function(){e.closeActions()})}},{key:"closeActions",value:function(){document.body.classList.remove("storyjs__modal__opened"),document.querySelector(".".concat(this.modalBoxInnerEl)).style="",document.querySelector(".".concat(this.modalLineInnerEl)).removeAttribute("style"),clearInterval(this.interval)}}])&&l(e.prototype,t),o&&l(e,o),n}();e.exports=t}},l={};!function e(t){if(l[t])return l[t].exports;var o=l[t]={exports:{}};return n[t](o,o.exports,e),o.exports}(150)})();